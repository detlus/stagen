var stagen = require('../lib/stagen');
var Post = require('../lib/content-types/post');
var ContentManager = require('../lib/content-manager');

// Get directory path of site files.
var pwd = process.cwd();

var site = new stagen.Site(pwd);
site.clean();
var cm = new ContentManager(site);
cm.registerType('post', Post);
cm.registerType('listing', require('../lib/listing-page'));
cm.generateOutput('post');
cm.generateOutput('listing');
cm.copyThemeAssets();
site.finalize();
